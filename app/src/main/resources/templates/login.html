<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Mauli Multiatate Co-op Credit Society Ltd. Nashik | Log in</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon"  th:href="@{/dist/img/favicon.ico}">
  <!-- Font Awesome -->
  <link rel="stylesheet" th:href="@{/plugins/fontawesome-free/css/all.min.css}">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- icheck bootstrap -->
  <link rel="stylesheet" th:href="@{/plugins/icheck-bootstrap/icheck-bootstrap.min.css}">
  <!-- Theme style -->
  <link rel="stylesheet" th:href="@{/dist/css/adminlte.min.css}">
  <!-- Google Font: Source Sans Pro -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
</head>
<body class="hold-transition login-page">


<!-- <h4><marquee class="text-info" behavior=scroll direction="left" scrollamount="4">FINAL EXAM : 01 JAN 2021 04:00 PM</marquee></h4>
 -->

<div class="login-box">
  <div class="login-logo">
    <a href="#"><img alt="Maulee Multistate Logo" th:src="@{/dist/img/maulee_crop-removebg.png}"  th:width="256px"></a>
  </div>
  <!-- /.login-logo -->
  <div class="card">
    <div class="card-body login-card-body">
      <p class="login-box-msg">Sign in to start your session</p>

      <div th:if="*{message!=null and #strings.length(message)>0}" class="alert text-danger" th:text="${message}"></div>
        
      <form th:action="@{/dologin}" id="loginForm" method="post">
        
        <div th:if="${param.error}" class="alert alert-danger">
       		Invalid username or password 
        </div>
        
        <div th:if="${param.logout}" class="alert alert-danger">
       		You have been logged out
        </div>
                
        <div class="input-group mb-3">
          <input type="text" class="form-control" name="username" id="username" placeholder="Mobile Number">
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-mobile-alt"></span>
            </div>
          </div>
        </div>
        <div class="input-group mb-3">
          <input type="password" class="form-control" name="password" id="password" placeholder="Password">
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-lock"></span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-8">
           <p class="mb-1">
	         <!-- <a href="#id01" id="forgot">I forgot my password</a> 
	         <a href="forgot-password">I forgot my password</a> -->
	      </p>
	       <!-- <p class="mb-0">
	        <a href="registration" class="text-center">Register a new membership</a>
	      </p>  -->
          </div>
          <!-- /.col -->
          <div class="col-4">
            <button type="submit" class="btn btn-primary btn-block">Sign In</button>
          </div>
          <!-- /.col -->
        </div>
      </form>

   <!--  <div class="social-auth-links text-center mb-3">
         <p>- OR -</p>
        <a href="#" class="btn btn-block btn-primary">
          <i class="fab fa-facebook mr-2"></i> Sign in using Facebook
        </a>
        <a href="#" class="btn btn-block btn-danger">
          <i class="fab fa-google-plus mr-2"></i> Sign in using Google+
        </a>
      </div>
       /.social-auth-links 

      <p class="mb-1">
        <a href="forgot-password">I forgot my password</a>
      </p>
     <!--  <p class="mb-0">
        <a href="registration" class="text-center">Register a new membership</a>
      </p> -->
    </div>
    <!-- /.login-card-body -->
  </div>
  
  <div id="id01" class="modal">
				  <div class="modal-dialog">
				          <div class="modal-content bg-info">
				            <div class="modal-header">
				              <h4 class="modal-title"><i class="fa fa-warning-sign"></i> Notice</h4>
				             <!--  <button type="button" class="close" onclick="document.getElementById('id01').style.display='none'" aria-label="Close">
				                <span aria-hidden="true">&times;</span>
				              </button> -->
				            </div>
				            <div class="modal-body">
				              <p>सकाळी १०:०० ते १२:०० आणि दुपारी ३:०० ते ५:०० या वेळेत पासवर्ड रिसेट सुविधा बंद राहील&hellip;</p>	
				              <p>याची कृपया सर्व परीक्षार्थ्यांनी नोंद घ्यावी. </p>	
				              
				              <p>- धन्यवाद</p>		             
				            </div>
				            <div class="modal-footer ">
				              <button type="button" class="btn btn-default pull-right" onclick="document.getElementById('id01').style.display='none'">Close</button>
				            </div>
				          </div>
				          <!-- /.modal-content -->
				        </div>
				        <!-- /.modal-dialog -->
				</div>
  
</div>


<!-- /.login-box 
<h4 class="text-success">FINAL EXAM : 01 JAN 2021 04:00 PM</h4>
-->


<!-- jQuery -->
<script th:src="@{/plugins/jquery/jquery.min.js}"></script>
<!-- Bootstrap 4 -->
<script th:src="@{/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
<!-- jquery-validation -->
<script th:src="@{/plugins/jquery-validation/jquery.validate.min.js}"></script>
<script th:src="@{/plugins/jquery-validation/additional-methods.min.js}"></script>
<!-- AdminLTE App -->
<script th:src="@{/dist/js/adminlte.min.js}"></script>

<script type="text/javascript">

	$(function () {
		
		  /* 
		    10 digit number only (No alphabets and No special characters)
		    Numbers starts from 6,7,8,9
		 */
		  
		 $('#username').on('keypress', function(e) {

            var $this = $(this);
            var regex = new RegExp("^[0-9\b]+$");
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            // for 10 digit number only
            if ($this.val().length > 9) {
                e.preventDefault();
                return false;
            }
            if (e.charCode < 54 && e.charCode > 47) {
                if ($this.val().length == 0) {
                    e.preventDefault();
                    return false;
                } else {
                    return true;
                }

            }
            if (regex.test(str)) {
                return true;
            }
            e.preventDefault();
            return false;
        });
		
		$('#loginForm').validate({
		    rules: {
		    	username: {
		         required: true,
		         minlength: 10
		      },
		      password: {
			     required: true
			  }
		    },
		    messages: {		    	
		    	username: {
		            required: "Please enter mobile number",
		            minlength: "Phone number should be 10 digits"
		      },
		        password: {
			        required: "Please enter password"
			  }
		    },
		    errorElement: 'span',
		    errorPlacement: function (error, element) {
		      error.addClass('invalid-feedback');
		      element.closest('.mb-3').append(error);
		    },
		    highlight: function (element, errorClass, validClass) {
		      $(element).addClass('is-invalid');
		    },
		    unhighlight: function (element, errorClass, validClass) {
		      $(element).removeClass('is-invalid');
		    },
		     submitHandler: function (event) {	
		    	 
		     		    event.preventDefault();
		     			//$(".overlay").show(); 
		     			$("#loginForm").submit(); 		     	   	 
		      }
		  });
		
		
		$("#forgot").click(function(){
			 document.getElementById('id01').style.display='block';	
		});
		
	});

	function preventBack() {window.history.forward();}  setTimeout("preventBack()", 0);  window.onunload = function () {null};
	
</script>

</body>
</html>